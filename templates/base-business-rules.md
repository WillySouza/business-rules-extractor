# Business Rule Document

> Write all section content in English unless explicitly requested otherwise.

## Feature Metadata

- **Feature Name:** `<feature-name>`
- **Sub-feature:** `<sub-feature-name>`
- **Domain:** `<domain-name>`
- **Source Repo:** `<absolute-path-to-target-repo>`
- **Last Updated:** `<YYYY-MM-DD>`

## Business Rule Summary

`<2-6 bullets in business language describing what the feature enforces>`

<!-- Section: Rule Details — requires extraction_option: business_rules -->

## Rule Details

### Rule 1 - `<rule-title>`
- **Business Intent:** `<why this rule exists>`
- **Trigger:** `<when this rule starts>`
- **Conditions:** `<main conditions and branches>`
- **Delegation:** `<if this rule's core decision is NOT made here: state what is NOT decided locally, which interface/service/facade receives the decision, and whether behavior is polymorphic across implementations. Omit if logic is local.>`
- **Outcome:** `<state/result generated by this rule>`
- **Exceptions:** `<known edge cases or explicit non-handled flows>`
- **Confidence:** `<high|medium|low>`

### Rule 2 - `<rule-title>`
- **Business Intent:** `<why this rule exists>`
- **Trigger:** `<when this rule starts>`
- **Conditions:** `<main conditions and branches>`
- **Delegation:** `<if this rule's core decision is NOT made here: state what is NOT decided locally, which interface/service/facade receives the decision, and whether behavior is polymorphic across implementations. Omit if logic is local.>`
- **Outcome:** `<state/result generated by this rule>`
- **Exceptions:** `<known edge cases or explicit non-handled flows>`
- **Confidence:** `<high|medium|low>`

<!-- End Section: Rule Details -->

<!-- Section: Technical Trace — requires extraction_option: technical_rules -->

## Technical Trace

- **Entrypoints:** `<controller/command/job/webhook>`
- **Application Logic:** `<actions/services used to enforce rule>`
- **Validation Layer:** `<requests/validators/policies>`
- **Persistence Layer:** `<repositories/models touched>`
- **Async Side Effects:** `<jobs/events/queues>`
- **External Integrations:** `<carrier/api/services>`

<!-- End Section: Technical Trace -->

<!-- Section: Dependencies and Impact — requires extraction_option: technical_rules -->

## Dependencies and Impact

- **Upstream Dependencies:** `<what this feature depends on>`
- **Downstream Dependencies:** `<what can break if this rule changes>`
- **Related Features:** `<cross-feature coupling>`

<!-- End Section: Dependencies and Impact -->

<!-- Section: Usage Context — requires extraction_option: usage_context -->

## Usage Context

- **Trigger:** `<what initiates this feature>`
- **Pre-conditions:** `<required state before execution>`
- **Post-conditions:** `<state after successful execution>`
- **Entry Paths:** `<UI, API, webhook, scheduled task>`

<!-- End Section: Usage Context -->

<!-- Section: Concrete Examples — requires extraction_option: examples -->

## Concrete Examples

### Example 1 - `<scenario-title>`
- **Input/Payload:** `<request or trigger data>`
- **State Before:** `<relevant state before execution>`
- **State After:** `<resulting state and side effects>`

<!-- End Section: Concrete Examples -->

## Evidence Map

List only references used as evidence for this document.

- `<path>#<symbol-or-context> - <short reason this supports the rule>`
- `<path>#<symbol-or-context> - <short reason this supports the rule>`

<!-- Section: Assumptions — requires extraction_option: business_rules -->

## Assumptions

- `<assumption-1>`
- `<assumption-2>`

<!-- End Section: Assumptions -->

<!-- Section: Open Questions — requires extraction_option: business_rules -->

## Open Questions (Human-in-the-loop)

Use the `AskQuestion` tool to collect answers before finalizing.
Keep only unresolved questions in this section.

- `<question-1>`
- `<question-2>`

<!-- End Section: Open Questions -->

<!-- Section: Decision Log — requires extraction_option: business_rules -->

## Decision Log

- `<YYYY-MM-DD> - <decision made after human clarification (source: AskQuestion)>`

<!-- End Section: Decision Log -->
